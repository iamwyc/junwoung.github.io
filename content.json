{"meta":{"title":"Hexo","subtitle":null,"description":null,"author":"John Doe","url":"http://yoursite.com"},"pages":[],"posts":[{"title":"","slug":"vue score 评分插件","date":"2018-08-10T08:09:26.996Z","updated":"2018-08-10T08:09:27.365Z","comments":true,"path":"2018/08/10/vue score 评分插件/","link":"","permalink":"http://yoursite.com/2018/08/10/vue score 评分插件/","excerpt":"","text":"vue score 评分插件标签（空格分隔）： vue javascript 插件 #1 插件部分 1.1 template部分12345678910111213&lt;template&gt; &lt;div&gt; &lt;div class=&quot;j_div_score&quot;&gt; &lt;div class=&quot;j_div_gray&quot; :style=&quot;&#123;cursor:disable ? &apos;&apos;:&apos;pointer&apos;&#125;&quot;&gt; &lt;span v-for=&quot;i in arr&quot; @click=&quot;setScore(i)&quot; class=&quot;j_score_gray&quot;&gt;&lt;/span&gt; &lt;span class=&quot;j_sp_score&quot; v-if=&quot;gold_width &gt; 0&quot;&gt;&#123;&#123;score&#125;&#125; 分&lt;/span&gt; &lt;/div&gt; &lt;div class=&quot;j_div_gold&quot; :style=&quot;&#123;width:gold_width+&apos;px&apos;&#125;&quot;&gt; &lt;span :style=&quot;&#123;cursor:disable ? &apos;&apos;:&apos;pointer&apos;&#125;&quot; v-for=&quot;a in arr&quot; @click=&quot;setScore(a)&quot; class=&quot;j_score_gold&quot;&gt;&lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt; ##1.2 script 部分12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&lt;script&gt; export default &#123; name: &apos;myscore&apos;, data()&#123; return&#123; total: 5, arr: null, gold_width: 0, zero: false, score: 2, disable: false &#125; &#125;, props:&#123; scoreObj: &#123; type: Object, default: null &#125; &#125;, mounted()&#123; if(this.arr === null)this.arr = []; for(let i = 1; i &lt;= this.total; i++)&#123; this.arr.push(i); &#125; if(this.score &lt; 0)this.score = 0; if(this.score &gt; 10)this.score = 10; this.gold_width = 22 * (this.score/2) + Math.floor(this.score/2)*5; &#125;, methods: &#123; setScore: function(i)&#123; if(this.disable) return; if(this.gold_width == 27 &amp;&amp; i == 1 &amp;&amp; this.zero)&#123; this.gold_width = 0; this.score = 0; &#125; else&#123; this.gold_width = 27*i; this.score = i * 2; &#125; &#125; &#125;, beforeMount()&#123; if(this.scoreObj)&#123; for(let key in this.scoreObj)&#123; this.$data[key] = this.scoreObj[key]; &#125; &#125; &#125;, watch: &#123; &apos;score&apos;: function()&#123; this.$emit(&apos;callback&apos;,this.score); &#125; &#125; &#125;&lt;/script&gt; ##1.3 css部分12345678&lt;style scoped&gt; .j_div_score&#123;font-size: 14px;font-family: &apos;微软雅黑&apos;;position:relative;user-select:none;&#125; .j_score_gray&#123;background:url(imgs/gray.png) no-repeat;display: inline-block;width: 22px;height: 20px;margin-right:5px;&#125; .j_score_gold&#123;background:url(imgs/gold.png) no-repeat;display: inline-block;width: 22px;height: 20px;margin-right:5px;&#125; .j_div_gray,.j_div_gold&#123;float:left;position:absolute;top:0;left:0;height:20px;white-space:nowrap;&#125; .j_div_gold&#123;overflow:hidden;transition:width 0.5s;&#125; .j_sp_score&#123;display:inline-block;height:20px;line-height:20px;position:relative;top:-4px;color:#666;margin-left:10px;&#125;&lt;/style&gt; ####Tips: #####1、以上通常会被放在一个.vue文件里面 #####2、css部分引入的图片需要根据实际情况引入#2 插件注册以及引用 ##2.1 注册1234567891011import Vue from &apos;vue&apos;import vScore from &apos;./score.vue&apos;const score = &#123; name: &apos;myscore&apos;, install: function()&#123; Vue.component(&apos;my-score&apos;,vScore); &#125;&#125;;export default score; ####Tips: #####1、import路径根据实际项目情况而定，下同（不再赘述） #####2、组件注册名 my-score 可随意起，最好不要与HTML保留标签冲突 ##2.2 引用12import vScore from &apos;../components//vScore/score.js&apos;Vue.use(vScore) 1234567891011121314151617181920212223242526&lt;template&gt; &lt;div&gt; &lt;div class=&quot;div_score&quot;&gt; &lt;my-score :scoreObj=&quot;scoreObj&quot; @callback=&quot;getScore&quot;&gt;&lt;/my-score&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import Vue from &apos;vue&apos; export default&#123; data()&#123; return&#123; scoreObj: &#123; score: 5.7, disable: false, zero: true &#125; &#125; &#125;, methods: &#123; getScore: function(s)&#123; console.log(s); &#125; &#125; &#125;&lt;/script&gt; #3 插件可配置选择 ##3.1 2.2 插件引用部分scoreObj包含三个属性： 属性名称含义默认值是否必须 score初始化评分插件0否 disable是否禁用true否 zero是否可以选择0分true否 ####Tips：评分一般都是两分一跳，总分10分，考虑实际情况和美观，暂不开放对星星数量和每颗星对应的分值进行配置 ##3.2 回调函数部分 ###一般评分插件是需要回调一个分数，这样可以在@callback处定义自己的回调方法#4 实际效果","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2018-08-10T07:55:26.391Z","updated":"2018-08-10T07:55:26.391Z","comments":true,"path":"2018/08/10/hello-world/","link":"","permalink":"http://yoursite.com/2018/08/10/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}]}